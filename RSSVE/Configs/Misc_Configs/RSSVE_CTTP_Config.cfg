//  ==================================================
//  Pre-process all applicable PQS nodes.
//  ==================================================

@Kopernicus:BEFORE[RSSVE]:NEEDS[CTTP]
{
    @Body:HAS[@PQS]
    {
        @PQS
        {
            %minLevel = 2
            %maxLevel = 12
            %minDetailDistance = 6

            &Material
            {
                %color = 0.0, 0.0, 0.0, 1.0
                %saturation = 1.0
                %contrast = 1.0
                %tintColor = 1.0, 1.0, 1.0, 0.0
                %lowStart = 0.0
                %lowEnd = 0.3
                %highStart = 0.6
                %highEnd = 0.9
                %powerNear = 0.75
                %powerFar = 0.75
                %groundTexStart = 0
                %groundTexEnd = 12000
                %planetOpacity = 1
            }
        }
    }
}

//  ==================================================
//  Add the CTTP PQS textures.
//  ==================================================

@Kopernicus:FOR[RSSVE]:NEEDS[CTTP]
{
    @Body[Kerbin]
    {
        @PQS
        {
            @Material
            {
                %lowTex = CTTP/Textures/PluginData/gravel.dds
                %lowBumpMap = CTTP/Textures/PluginData/gravel_normal.dds
                %lowNearTiling = 20
                %lowBumpNearTiling = 20
                %lowBumpFarTiling = 2
                %lowMultiFactor = 2

                %midTex = CTTP/Textures/PluginData/sand.dds
                %midBumpMap = CTTP/Textures/PluginData/sand_normal.dds
                %midNearTiling = 20
                %midBumpNearTiling = 20
                %midBumpFarTiling = 2
                %midMultiFactor = 2

                %highTex = RSSVE/Textures/DetailTextures/DetailEarthSurface.dds
                %highBumpMap = BUILTIN/cloud_normal
                %highNearTiling = 400
                %highBumpNearTiling = 400
                %highBumpFarTiling = 40
                %highMultiFactor = 40

                %steepPower = 3
                %steepTexStart = 9000
                %steepTexEnd = 100000
                %steepTex = CTTP/Textures/PluginData/cliff.dds
                %steepBumpMap = CTTP/Textures/PluginData/cliff_normal.dds
                %steepNearTiling = 5000
                %steepTiling = 500
            }
        }
    }

    @Body[Mars]
    {
        @PQS
        {
            @Material
            {
                %lowTex = CTTP/Textures/PluginData/gravel.dds
                %lowBumpMap = CTTP/Textures/PluginData/gravel_normal.dds
                %lowNearTiling = 2500
                %lowBumpNearTiling = 2500
                %lowBumpFarTiling = 250
                %lowMultiFactor = 250

                %midTex = CTTP/Textures/PluginData/sand.dds
                %midBumpMap = CTTP/Textures/PluginData/sand_normal.dds
                %midNearTiling = 5000
                %midBumpNearTiling = 5000
                %midBumpFarTiling = 500
                %midMultiFactor = 500

                %highTex = CTTP/Textures/PluginData/sand.dds
                %highBumpMap = CTTP/Textures/PluginData/sand_normal.dds
                %highNearTiling = 10000
                %highBumpNearTiling = 10000
                %highBumpFarTiling = 100
                %highMultiFactor = 100

                %steepPower = 3
                %steepTexStart = 9000
                %steepTexEnd = 100000
                %steepTex = CTTP/Textures/PluginData/cliff.dds
                %steepBumpMap = CTTP/Textures/PluginData/cliff_normal.dds
                %steepNearTiling = 5000
                %steepTiling = 500
            }
        }
    }

    @Body[Moon]
    {
        @PQS
        {
            @Material
            {
                %lowTex = CTTP/Textures/PluginData/rock.dds
                %lowBumpMap = CTTP/Textures/PluginData/rock_normal.dds
                %lowNearTiling = 2500
                %lowBumpNearTiling = 2500
                %lowBumpFarTiling = 250
                %lowMultiFactor = 250

                %midTex = CTTP/Textures/PluginData/gravel.dds
                %midBumpMap = CTTP/Textures/PluginData/gravel_normal.dds
                %midNearTiling = 5000
                %midBumpNearTiling = 5000
                %midBumpFarTiling = 500
                %midMultiFactor = 500

                %highTex = CTTP/Textures/PluginData/gravel.dds
                %highBumpMap = CTTP/Textures/PluginData/gravel_normal.dds
                %highNearTiling = 10000
                %highBumpNearTiling = 10000
                %highBumpFarTiling = 100
                %highMultiFactor = 100

                %steepPower = 3
                %steepTexStart = 9000
                %steepTexEnd = 100000
                %steepTex = CTTP/Textures/PluginData/cliff.dds
                %steepBumpMap = CTTP/Textures/PluginData/cliff_normal.dds
                %steepNearTiling = 5000
                %steepTiling = 500
            }
        }
    }

    @Body[Pluto]
    {
        @PQS
        {
            @Material
            {
                %lowTex = CTTP/Textures/PluginData/ice.dds
                %lowBumpMap = CTTP/Textures/PluginData/ice_normal.dds
                %lowNearTiling = 750
                %lowBumpNearTiling = 750
                %lowBumpFarTiling = 75
                %lowMultiFactor = 75

                %midTex = CTTP/Textures/PluginData/snow.dds
                %midBumpMap = CTTP/Textures/PluginData/snow_normal.dds
                %midNearTiling = 1500
                %midBumpNearTiling = 1500
                %midBumpFarTiling = 150
                %midMultiFactor = 150

                %highTex = CTTP/Textures/PluginData/snow.dds
                %highBumpMap = CTTP/Textures/PluginData/snow_normal.dds
                %highNearTiling = 2500
                %highBumpNearTiling = 2500
                %highBumpFarTiling = 250
                %highMultiFactor = 250

                %steepPower = 3
                %steepTexStart = 9000
                %steepTexEnd = 100000
                %steepTex = CTTP/Textures/PluginData/cliff.dds
                %steepBumpMap = CTTP/Textures/PluginData/cliff_normal.dds
                %steepNearTiling = 2500
                %steepTiling = 250
            }
        }
    }

    @Body[Titan]
    {
        @PQS
        {
            @Material
            {
                %lowTex = CTTP/Textures/PluginData/beach.dds
                %lowBumpMap = CTTP/Textures/PluginData/beach_normal.dds
                %lowNearTiling = 750
                %lowBumpNearTiling = 750
                %lowBumpFarTiling = 75
                %lowMultiFactor = 75

                %midTex = CTTP/Textures/PluginData/sand.dds
                %midBumpMap = CTTP/Textures/PluginData/sand_normal.dds
                %midNearTiling = 1500
                %midBumpNearTiling = 1500
                %midBumpFarTiling = 150
                %midMultiFactor = 150

                %highTex = CTTP/Textures/PluginData/sand.dds
                %highBumpMap = CTTP/Textures/PluginData/sand_normal.dds
                %highNearTiling = 2500
                %highBumpNearTiling = 2500
                %highBumpFarTiling = 250
                %highMultiFactor = 250

                %steepPower = 3
                %steepTexStart = 9000
                %steepTexEnd = 100000
                %steepTex = CTTP/Textures/PluginData/cliff.dds
                %steepBumpMap = CTTP/Textures/PluginData/cliff_normal.dds
                %steepNearTiling = 2500
                %steepTiling = 250
            }
        }
    }

    @Body[Triton]
    {
        @PQS
        {
            @Material
            {
                %lowTex = CTTP/Textures/PluginData/ice.dds
                %lowBumpMap = CTTP/Textures/PluginData/ice_normal.dds
                %lowNearTiling = 500
                %lowBumpNearTiling = 500
                %lowBumpFarTiling = 50
                %lowMultiFactor = 50

                %midTex = CTTP/Textures/PluginData/snow.dds
                %midBumpMap = CTTP/Textures/PluginData/snow_normal.dds
                %midNearTiling = 750
                %midBumpNearTiling = 750
                %midBumpFarTiling = 75
                %midMultiFactor = 75

                %highTex = CTTP/Textures/PluginData/snow.dds
                %highBumpMap = CTTP/Textures/PluginData/snow_normal.dds
                %highNearTiling = 2500
                %highBumpNearTiling = 2500
                %highBumpFarTiling = 250
                %highMultiFactor = 250

                %steepPower = 3
                %steepTexStart = 9000
                %steepTexEnd = 100000
                %steepTex = CTTP/Textures/PluginData/cliff.dds
                %steepBumpMap = CTTP/Textures/PluginData/cliff_normal.dds
                %steepNearTiling = 2500
                %steepTiling = 250
            }
        }
    }

    @Body[Venus]
    {
        @PQS
        {
            @Material
            {
                %lowTex = CTTP/Textures/PluginData/rock.dds
                %lowBumpMap = CTTP/Textures/PluginData/rock_normal.dds
                %lowNearTiling = 5000
                %lowBumpNearTiling = 5000
                %lowBumpFarTiling = 500
                %lowMultiFactor = 500

                %midTex = CTTP/Textures/PluginData/cracked.dds
                %midBumpMap = CTTP/Textures/PluginData/cracked_normal.dds
                %midNearTiling = 7500
                %midBumpNearTiling = 7500
                %midBumpFarTiling = 750
                %midMultiFactor = 750

                %highTex = CTTP/Textures/PluginData/cracked.dds
                %highBumpMap = CTTP/Textures/PluginData/cracked_normal.dds
                %highNearTiling = 10000
                %highBumpNearTiling = 10000
                %highBumpFarTiling = 100
                %highMultiFactor = 100

                %steepPower = 3
                %steepTexStart = 9000
                %steepTexEnd = 100000
                %steepTex = CTTP/Textures/PluginData/cliff.dds
                %steepBumpMap = CTTP/Textures/PluginData/cliff_normal.dds
                %steepNearTiling = 5000
                %steepTiling = 500
            }
        }
    }
}
